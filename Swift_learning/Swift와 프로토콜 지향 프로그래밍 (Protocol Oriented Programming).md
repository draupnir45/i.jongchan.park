# Swift와 프로토콜 지향 프로그래밍 (Protocol Oriented Programming)

Realm 아카데미의 강좌 [Swift에서 프로토콜 중심 프로그래밍(POP)하기](https://academy.realm.io/kr/posts/protocol-oriented-programming-in-swift/)를 참조했음을 밝힙니다.

## 프로토콜
- 특정 인스턴스에 특성을 부여하기 위해 사용하는 기능입니다.. 상속을 통하지 않고도 인터페이스를 공유할 수 있기 때문에, Objective-C에서도 상속과 소유 관계의 한계를 해결하기 위한 용도로 많이 쓰여왔죠. (Delegate, DataSource 등.)
- Swift에서는 모든 것을 다 참조형으로 만드는 대신 자료형을 이용하기를 권장합니다. 그러면서 상속하지 않고서도 같은 기능을 사용할 수 있도록 프로토콜의 기능을 강화했습니다.
- 상속의 한계에 대하여: 예를 들어 '가위'와 '커터'를 추상화시킨다고 해 봅시다. 문구류라는 공통점이 있지만, 그렇다고 '문구'라는 상위클래스를 만들기도 애매합니다. '개'와 '고양이'의 케이스를 비교해보면 알 수 있습니다. 상위클래스로 '포유류'를 만든다면, 새끼를 먹이는 방식 이외에도 많은 것들을 공통적으로 사용할 수 있겠죠. 말 그대로 같은 뿌리로부터 유전자의 상속을 받아 진화해온 형태기 때문에, 이런 것에 잘 맞죠. 하지만 가위와 커터칼은 공통된 조상을 가지지도 않습니다. 별다른 공통점이 없죠. 하나 있다면 '자른다'는 기능 정도. 그렇다면 이 둘을 상속관계로 묶는 것은 괜히 복잡성만 증가시킵니다. 다른 인스턴스 입장에서 필요한 정보는 단지 이 둘 중에 하나의 인스턴스에 접근할 수 있을 때 활용할 수 있는 메서드 목록밖에 없죠. 쓸데없이 '문구류'라는 거대하고 모호한 추상화 작업을 할 필요가 없는 것입니다. 현실 생활에서도 우리는 굳이 가위나 커터를 문구류라고 해서 동일선상에 놓지 않습니다. 종이를 자르고자 할 때, 그저 자를 수 있는 도구 중 하나를 집어들 뿐이죠. 사실상 이 개념의 구현으로 인해, 코드가 한 단계 더 현실을 잘 반영할 수 있게 된 겁니다.

## 기본 구현 (Default Implementation)
- Swift에 생긴 새로운 개념입니다. 예전의 프로토콜은 단지 메뉴판을 선언할 뿐, 코드는 그 프로토콜을 따르는 각 인스턴스에서 별도로 구현해 주어야만 했습니다. 그런데 이건 좀 문제가 있습니다. 가위와 커터의 이야기로 돌아가, 이런 식이라면 기껏 인터페이스만 통합했을 뿐 함수 자체는 두번 구현해야 합니다. 코드의 중복이 발생하겠죠. 유지보수도 귀찮아 집니다.
- 이것을 해결하기 위해, Swift에서는 프로토콜을 확장할 수 있도록 했습니다. extension을 안에 메서드를 구현할 수 있도록 한 것이죠. 함수의 제목만 적는 것이 아니라 구현까지 해버리는 거죠. 이로 인해, 애매하게 흩어져 있어야 했던 중복기능들을 하나로 구현할 수 있게 되었습니다. 가위와 커터칼은 이제 하나의 함수를 공유합니다.